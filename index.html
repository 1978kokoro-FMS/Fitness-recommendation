<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>의왕도시공사 맞춤 운동 추천</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        
        // Lucide Icons as SVG components
        const ChevronRight = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
            </svg>
        );

        const Activity = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
        );

        const Heart = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
        );

        const Target = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <circle cx="12" cy="12" r="10" strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} />
                <circle cx="12" cy="12" r="6" strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} />
                <circle cx="12" cy="12" r="2" strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} />
            </svg>
        );

        const Users = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
        );

        const Calendar = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
        );

        const Award = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <circle cx="12" cy="8" r="7" strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} />
                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88" strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} />
            </svg>
        );

        const FitnessRecommendationApp = () => {
            const [currentStep, setCurrentStep] = useState(0);
            const [answers, setAnswers] = useState({});
            const [result, setResult] = useState(null);

            const questions = [
                {
                    id: 'age',
                    question: '연령대를 선택해주세요',
                    type: 'single',
                    options: [
                        { value: '20s', label: '20대' },
                        { value: '30s', label: '30대' },
                        { value: '40s', label: '40대' },
                        { value: '50s', label: '50대' },
                        { value: '60plus', label: '60대 이상' }
                    ]
                },
                {
                    id: 'goal',
                    question: '운동 목표를 선택해주세요',
                    type: 'single',
                    options: [
                        { value: 'weight', label: '체중 감량' },
                        { value: 'muscle', label: '근력 강화' },
                        { value: 'health', label: '건강 유지' },
                        { value: 'flexibility', label: '유연성 향상' },
                        { value: 'rehabilitation', label: '재활/회복' }
                    ]
                },
                {
                    id: 'experience',
                    question: '운동 경험 수준은 어떠신가요?',
                    type: 'single',
                    options: [
                        { value: 'beginner', label: '초보자 (운동 경험 거의 없음)' },
                        { value: 'intermediate', label: '중급자 (꾸준히 운동 중)' },
                        { value: 'advanced', label: '상급자 (운동 경험 풍부)' }
                    ]
                },
                {
                    id: 'health',
                    question: '현재 건강 상태를 선택해주세요 (중복 선택 가능)',
                    type: 'multiple',
                    options: [
                        { value: 'normal', label: '특이사항 없음' },
                        { value: 'joint', label: '관절 통증' },
                        { value: 'back', label: '허리 통증' },
                        { value: 'cardio', label: '심혈관 주의' },
                        { value: 'diabetes', label: '당뇨 관리' }
                    ]
                },
                {
                    id: 'preference',
                    question: '선호하는 운동 형태는 무엇인가요?',
                    type: 'single',
                    options: [
                        { value: 'indoor', label: '실내 운동' },
                        { value: 'water', label: '수중 운동' },
                        { value: 'group', label: '그룹 운동' },
                        { value: 'personal', label: '개인 운동' }
                    ]
                },
                {
                    id: 'time',
                    question: '주당 운동 가능 시간은 얼마나 되시나요?',
                    type: 'single',
                    options: [
                        { value: '1-2', label: '주 1-2회 (1-2시간)' },
                        { value: '3-4', label: '주 3-4회 (3-5시간)' },
                        { value: '5plus', label: '주 5회 이상 (6시간 이상)' }
                    ]
                }
            ];

            const handleAnswer = (questionId, value, isMultiple = false) => {
                if (isMultiple) {
                    const currentAnswers = answers[questionId] || [];
                    if (currentAnswers.includes(value)) {
                        setAnswers({
                            ...answers,
                            [questionId]: currentAnswers.filter(v => v !== value)
                        });
                    } else {
                        setAnswers({
                            ...answers,
                            [questionId]: [...currentAnswers, value]
                        });
                    }
                } else {
                    setAnswers({
                        ...answers,
                        [questionId]: value
                    });
                }
            };

            const calculateRecommendation = () => {
                const recommendations = {
                    exercises: [],
                    programs: [],
                    facilities: []
                };

                // 연령과 목표에 따른 운동 추천
                if (answers.goal === 'weight') {
                    recommendations.exercises.push(
                        { name: '유산소 운동', desc: '트레드밀, 사이클, 조깅 등 심폐 지구력 향상', duration: '30-45분', frequency: '주 4-5회' },
                        { name: '에어로빅', desc: '근력과 유산소를 결합한 다이내믹 운동', duration: '50분', frequency: '주 3-4회' }
                    );
                }

                if (answers.goal === 'muscle') {
                    recommendations.exercises.push(
                        { name: '헬스 트레이닝', desc: '머신과 프리웨이트를 이용한 근력 운동', duration: '50-60분', frequency: '주 3-4회' },
                        { name: '기능성 운동', desc: '코어와 전신 근력 강화 운동', duration: '40분', frequency: '주 3회' }
                    );
                }

                if (answers.goal === 'health' || answers.age === '60plus') {
                    recommendations.exercises.push(
                        { name: '걷기/파워워킹', desc: '관절에 무리가 적은 유산소 운동', duration: '30-40분', frequency: '매일' },
                        { name: '프롭 테라피', desc: '나무토막을 이용한 스트레칭과 근력 강화', duration: '50분', frequency: '주 3회' }
                    );
                }

                if (answers.goal === 'flexibility') {
                    recommendations.exercises.push(
                        { name: '요가', desc: '유연성과 밸런스, 심신 안정', duration: '50분', frequency: '주 3-4회' },
                        { name: '필라테스', desc: '코어 강화와 자세 교정', duration: '50분', frequency: '주 2-3회' }
                    );
                }

                // 건강 상태에 따른 조정
                const healthIssues = answers.health || [];
                if (healthIssues.includes('joint') || healthIssues.includes('back')) {
                    recommendations.exercises.push(
                        { name: '수영', desc: '관절에 부담 없는 전신 운동', duration: '30-50분', frequency: '주 2-3회' },
                        { name: '수중 운동', desc: '물의 부력을 이용한 저충격 운동', duration: '50분', frequency: '주 2회' }
                    );
                }

                // 선호도와 시설에 따른 프로그램 추천
                if (answers.preference === 'group') {
                    recommendations.programs.push(
                        { name: '에어로빅', facility: '의왕국민체육센터', time: '월~금 (시간별 선택 가능)', level: '초급-중급', fee: '월 50,000원' },
                        { name: '스포츠댄스', facility: '포일스포츠센터', time: '화/목/토 19:00-20:00', level: '전체', fee: '월 55,000원' }
                    );
                }

                if (answers.preference === 'water') {
                    recommendations.programs.push(
                        { name: '수영 강습 (초급)', facility: '평생학습관수영장', time: '월~금 (시간대별)', level: '초급', fee: '월 60,000원' },
                        { name: '수영 강습 (중급)', facility: '의왕국민체육센터', time: '월~금 (시간대별)', level: '중급', fee: '월 60,000원' },
                        { name: '수영 강습 (고급)', facility: '포일스포츠센터', time: '월~금 (시간대별)', level: '고급', fee: '월 60,000원' }
                    );
                }

                if (answers.preference === 'indoor') {
                    recommendations.programs.push(
                        { name: '헬스 회원', facility: '의왕국민체육센터', time: '06:00-22:00 (자유이용)', level: '전체', fee: '월 40,000원' },
                        { name: '배드민턴', facility: '부곡스포츠센터', time: '일일이용 또는 정기권', level: '전체', fee: '회당 5,000원' },
                        { name: '농구', facility: '포일스포츠센터', time: '일일이용 또는 정기권', level: '전체', fee: '회당 5,000원' }
                    );
                }

                // 일반 프로그램 추가
                recommendations.programs.push(
                    { name: '요가', facility: '백운커뮤니티센터', time: '월/수/금 10:00-11:00', level: '전체', fee: '월 50,000원' },
                    { name: '필라테스', facility: '의왕국민체육센터', time: '화/목 19:00-20:00', level: '중급', fee: '월 55,000원' },
                    { name: '프롭 테라피', facility: '포일스포츠센터', time: '월/수 14:00-15:00', level: '초급-중급', fee: '월 50,000원' }
                );

                if (answers.age === '60plus' || answers.goal === 'rehabilitation') {
                    recommendations.programs.push(
                        { name: '시니어 건강 교실', facility: '백운커뮤니티센터', time: '월~금 10:00-11:00', level: '시니어', fee: '월 40,000원' }
                    );
                }

                if (answers.experience === 'beginner' || answers.goal === 'rehabilitation') {
                    recommendations.programs.push(
                        { name: '검도 (초급)', facility: '포일스포츠센터', time: '화/목 18:00-19:00', level: '초급', fee: '월 50,000원' }
                    );
                }

                // 이용 가능한 시설 정보
                recommendations.facilities = [
                    { name: '의왕국민체육센터', address: '경기도 의왕시 내손동', facilities: '수영장(6레인), 헬스장, 다목적체육관' },
                    { name: '포일스포츠센터', address: '경기도 의왕시 포일동', facilities: '수영장, 헬스장, GX룸, 다목적체육관' },
                    { name: '부곡스포츠센터', address: '경기도 의왕시 부곡동', facilities: '체육관, 헬스장' },
                    { name: '백운커뮤니티센터', address: '경기도 의왕시 백운호수', facilities: '다목적실, 강의실' },
                    { name: '평생학습관수영장', address: '경기도 의왕시', facilities: '수영장' }
                ];

                return recommendations;
            };

            const handleNext = () => {
                if (currentStep < questions.length - 1) {
                    setCurrentStep(currentStep + 1);
                } else {
                    const recommendation = calculateRecommendation();
                    setResult(recommendation);
                }
            };

            const handleReset = () => {
                setCurrentStep(0);
                setAnswers({});
                setResult(null);
            };

            const isAnswered = () => {
                const currentQuestion = questions[currentStep];
                if (currentQuestion.type === 'multiple') {
                    return answers[currentQuestion.id] && answers[currentQuestion.id].length > 0;
                }
                return !!answers[currentQuestion.id];
            };

            if (result) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                        <div className="max-w-4xl mx-auto">
                            <div className="bg-white rounded-2xl shadow-xl p-8">
                                <div className="text-center mb-8">
                                    <div className="inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4">
                                        <Award className="w-8 h-8 text-green-600" />
                                    </div>
                                    <h2 className="text-3xl font-bold text-gray-800 mb-2">맞춤 운동 프로그램 추천</h2>
                                    <p className="text-gray-600">회원님을 위한 최적의 운동과 의왕도시공사 프로그램을 추천해드립니다</p>
                                </div>

                                {/* 추천 운동 */}
                                <div className="mb-8">
                                    <div className="flex items-center mb-4">
                                        <Activity className="w-6 h-6 text-blue-600 mr-2" />
                                        <h3 className="text-2xl font-bold text-gray-800">추천 운동</h3>
                                    </div>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        {result.exercises.map((exercise, index) => (
                                            <div key={index} className="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200">
                                                <h4 className="text-xl font-bold text-gray-800 mb-2">{exercise.name}</h4>
                                                <p className="text-gray-600 mb-4">{exercise.desc}</p>
                                                <div className="space-y-2">
                                                    <div className="flex items-center text-sm">
                                                        <Target className="w-4 h-4 text-blue-600 mr-2" />
                                                        <span className="text-gray-700">운동 시간: <strong>{exercise.duration}</strong></span>
                                                    </div>
                                                    <div className="flex items-center text-sm">
                                                        <Calendar className="w-4 h-4 text-blue-600 mr-2" />
                                                        <span className="text-gray-700">권장 횟수: <strong>{exercise.frequency}</strong></span>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {/* 운영 프로그램 */}
                                <div className="mb-8">
                                    <div className="flex items-center mb-4">
                                        <Users className="w-6 h-6 text-purple-600 mr-2" />
                                        <h3 className="text-2xl font-bold text-gray-800">의왕도시공사 운영 프로그램</h3>
                                    </div>
                                    <div className="space-y-3">
                                        {result.programs.map((program, index) => (
                                            <div key={index} className="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-5 border-2 border-purple-200 hover:shadow-md transition-shadow">
                                                <div className="flex items-start justify-between">
                                                    <div className="flex-1">
                                                        <h4 className="text-lg font-bold text-gray-800 mb-1">{program.name}</h4>
                                                        <p className="text-sm text-purple-700 font-semibold mb-3">{program.facility}</p>
                                                        <div className="grid md:grid-cols-3 gap-3 text-sm">
                                                            <div className="flex items-center">
                                                                <Calendar className="w-4 h-4 text-purple-600 mr-2 flex-shrink-0" />
                                                                <span className="text-gray-700">{program.time}</span>
                                                            </div>
                                                            <div className="flex items-center">
                                                                <Target className="w-4 h-4 text-purple-600 mr-2 flex-shrink-0" />
                                                                <span className="text-gray-700">수준: {program.level}</span>
                                                            </div>
                                                            <div className="flex items-center">
                                                                <Heart className="w-4 h-4 text-purple-600 mr-2 flex-shrink-0" />
                                                                <span className="text-gray-700 font-semibold">{program.fee}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <a
                                                        href="https://www.uuc.or.kr"
                                                        target="_blank"
                                                        rel="noopener noreferrer"
                                                        className="ml-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm font-semibold whitespace-nowrap inline-block"
                                                    >
                                                        신청하기
                                                    </a>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {/* 이용 가능 시설 */}
                                <div className="mb-8">
                                    <div className="flex items-center mb-4">
                                        <Activity className="w-6 h-6 text-indigo-600 mr-2" />
                                        <h3 className="text-2xl font-bold text-gray-800">이용 가능 시설</h3>
                                    </div>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        {result.facilities.map((facility, index) => (
                                            <div key={index} className="bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl p-5 border-2 border-indigo-200">
                                                <h4 className="text-lg font-bold text-gray-800 mb-2">{facility.name}</h4>
                                                <p className="text-sm text-gray-600 mb-2">{facility.address}</p>
                                                <div className="flex items-start">
                                                    <Target className="w-4 h-4 text-indigo-600 mr-2 mt-1 flex-shrink-0" />
                                                    <p className="text-sm text-gray-700">{facility.facilities}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {/* 안내 메시지 */}
                                <div className="bg-blue-50 rounded-xl p-6 border-2 border-blue-200 mb-6">
                                    <div className="flex items-start">
                                        <Heart className="w-6 h-6 text-blue-600 mr-3 flex-shrink-0 mt-1" />
                                        <div>
                                            <h4 className="font-bold text-gray-800 mb-2">프로그램 이용 안내</h4>
                                            <ul className="text-sm text-gray-700 space-y-1">
                                                <li>• 모든 강좌는 <strong>의왕도시공사 홈페이지(www.uuc.or.kr)</strong>에서 회원가입 후 신청 가능합니다</li>
                                                <li>• 매월 1일부터 말일까지 월 단위 강습제로 운영됩니다</li>
                                                <li>• 의왕시민은 3개월 등록 시 10% 할인 혜택이 있습니다</li>
                                                <li>• 타 지역 거주자는 요금 30% 할증이 적용됩니다</li>
                                                <li>• 운동 시작 전 가벼운 준비운동을 반드시 실시하세요</li>
                                                <li>• 통증이 느껴지면 즉시 운동을 중단하고 전문가와 상담하세요</li>
                                                <li>• 자세한 접수 일정 및 시간표는 홈페이지를 확인해주세요</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                {/* 버튼 */}
                                <div className="flex gap-3">
                                    <button
                                        onClick={handleReset}
                                        className="flex-1 px-6 py-4 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-colors font-semibold text-lg"
                                    >
                                        다시 검사하기
                                    </button>
                                    <a
                                        href="https://www.uuc.or.kr"
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        className="flex-1 px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-colors font-semibold text-lg text-center"
                                    >
                                        의왕도시공사 홈페이지로 이동
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            const currentQuestion = questions[currentStep];

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                    <div className="max-w-3xl mx-auto py-8">
                        {/* 헤더 */}
                        <div className="text-center mb-8">
                            <div className="inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4">
                                <Activity className="w-8 h-8 text-white" />
                            </div>
                            <h1 className="text-4xl font-bold text-gray-800 mb-2">의왕도시공사 맞춤 운동 추천</h1>
                            <p className="text-gray-600 text-lg">회원님에게 맞는 최적의 운동을 찾아드립니다</p>
                        </div>

                        {/* 진행률 */}
                        <div className="mb-8">
                            <div className="flex justify-between items-center mb-2">
                                <span className="text-sm font-semibold text-gray-600">진행률</span>
                                <span className="text-sm font-semibold text-blue-600">{currentStep + 1} / {questions.length}</span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-3">
                                <div
                                    className="bg-gradient-to-r from-blue-600 to-indigo-600 h-3 rounded-full transition-all duration-300"
                                    style={{ width: `${((currentStep + 1) / questions.length) * 100}%` }}
                                />
                            </div>
                        </div>

                        {/* 질문 카드 */}
                        <div className="bg-white rounded-2xl shadow-xl p-8 mb-6">
                            <h2 className="text-2xl font-bold text-gray-800 mb-6">{currentQuestion.question}</h2>
                            
                            <div className="space-y-3">
                                {currentQuestion.options.map((option) => {
                                    const isSelected = currentQuestion.type === 'multiple'
                                        ? (answers[currentQuestion.id] || []).includes(option.value)
                                        : answers[currentQuestion.id] === option.value;

                                    return (
                                        <button
                                            key={option.value}
                                            onClick={() => handleAnswer(currentQuestion.id, option.value, currentQuestion.type === 'multiple')}
                                            className={`w-full p-4 rounded-xl border-2 transition-all text-left ${
                                                isSelected
                                                    ? 'border-blue-600 bg-blue-50 shadow-md'
                                                    : 'border-gray-200 hover:border-blue-300 hover:bg-gray-50'
                                            }`}
                                        >
                                            <div className="flex items-center">
                                                <div className={`w-6 h-6 rounded-full border-2 mr-4 flex items-center justify-center ${
                                                    isSelected ? 'border-blue-600 bg-blue-600' : 'border-gray-300'
                                                }`}>
                                                    {isSelected && (
                                                        <svg className="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                                            <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                                                        </svg>
                                                    )}
                                                </div>
                                                <span className={`text-lg ${isSelected ? 'font-semibold text-blue-900' : 'text-gray-700'}`}>
                                                    {option.label}
                                                </span>
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>

                            {currentQuestion.type === 'multiple' && (
                                <p className="text-sm text-gray-500 mt-4">* 해당되는 항목을 모두 선택해주세요</p>
                            )}
                        </div>

                        {/* 네비게이션 버튼 */}
                        <div className="flex gap-4">
                            {currentStep > 0 && (
                                <button
                                    onClick={() => setCurrentStep(currentStep - 1)}
                                    className="px-6 py-4 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors font-semibold"
                                >
                                    이전
                                </button>
                            )}
                            <button
                                onClick={handleNext}
                                disabled={!isAnswered()}
                                className={`flex-1 px-6 py-4 rounded-xl font-semibold text-lg flex items-center justify-center transition-all ${
                                    isAnswered()
                                        ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 shadow-lg'
                                        : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                                }`}
                            >
                                {currentStep === questions.length - 1 ? '결과 보기' : '다음'}
                                <ChevronRight className="w-5 h-5 ml-2" />
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<FitnessRecommendationApp />, document.getElementById('root'));
    </script>
</body>
</html>